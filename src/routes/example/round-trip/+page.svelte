<template lang="pug">
    .bg-black.pv5.vh-100
      .br2.mw6.center.bg-light-green.ph3.pv4
        h1.mt0.mb3 ä¾†å›ç¥¨ç¯„ä¾‹å°ˆæ¡ˆ
        .lh-copy.mv4
          p
            | ä¾†å›ç¥¨çš„éé—œæ¢ä»¶è¼ƒåš´æ ¼ï¼Œåœ¨å®Œæˆé—–é—œå¾Œï¼Œé ˆå°‡åé€±å¹´ç¶²ç«™å¸¶éä¾†çš„ token å¸¶å›çµ¦åé€±å¹´ç¶²ç«™ï¼Œæ‰ç®—å®Œæˆé—–é—œã€‚
            | é©åˆæƒ³è¦è¨­å®šå®Œæˆæ¢ä»¶ã€å¯ä»¥è¨‚è£½æ´»å‹•ç¶²ç«™çš„å°ˆæ¡ˆã€‚
          p
            | åé€±å¹´ç¶²ç«™è·³è½‰æ™‚ï¼Œæœƒä»¥ 
            mark.ph1 {g0vTokenKey}
            | &nbsp;ç‚º url search params ï¼Œåƒé€™è£¡çš„ token å°±æ˜¯ï¼š
            mark.ph1 {g0vToken}
          p
            | è·³è½‰å›
            strong.mh1 {siteUrl}/å°ˆæ¡ˆåç¨±
            | æ™‚ï¼Œè¨˜å¾—åŠ ä¸Š
            mark.ph1 ?{g0vTokenKey}={g0vToken}
            | &nbsp;å‘¦ï½
        .flex.items-center.justify-center
          a.pv2.ph3.bg-black.white.fw7.br2.ba.b--gray(href="{callback}") åƒé€™æ¨£ï¼
  </template>
<script>
  import { page } from '$app/stores';
  import { onMount } from 'svelte';
  let g0vToken = 'ç¶²é å•Ÿå‹•ä¸­ ğŸ™ƒ '
  const g0vTokenKey = '10vpoints'
  const siteUrl = 'https://g0v.github.io/10v-points'

  onMount(() => {
    const urlParams = new URLSearchParams(window.location.search);
    g0vToken = urlParams.get(g0vTokenKey)
  })
  
  $: callback = `${siteUrl}/å°ˆæ¡ˆä¸‰è™Ÿ/?${g0vTokenKey}=${encodeURIComponent(g0vToken)}` 
</script>
  